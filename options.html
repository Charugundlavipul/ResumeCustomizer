<!doctype html>
<html>
<head>
  <meta charset="utf-g" />
  <title>ATS Enhancer – Options</title>
  <style>
    :root { --bg:#0b1b2b; --card:#13273b; --accent:#2eaadc; --muted:#a7c2d9; --text:#eaf6ff; --radius:14px; }
    body { font-family: Inter, system-ui, sans-serif; margin: 0; background: var(--bg); color: var(--text); }
    .wrap { padding: 16px; max-width: 1200px; margin: auto; }
    h2, h3 { margin: 0 0 10px; }
    p.muted { color: var(--muted); margin: 0 0 10px; font-size: 14px; }
    .card { background: var(--card); border-radius: var(--radius); padding: 16px; box-shadow: 0 6px 24px rgba(0,0,0,.2); margin-bottom: 20px; }
    label { font-size: 12px; color: var(--muted); display:block; margin:12px 0 6px; }
    textarea, input { width:100%; box-sizing:border-box; border: 1px solid #0f2235; background:#0f2235; color: var(--text); border-radius: 10px; padding: 10px; outline:none; font-family: inherit; font-size: 14px; }
    textarea { min-height: 120px; resize: vertical; }
    button { border:none; background:var(--accent); color:#05202b; padding:10px 14px; border-radius:10px; font-weight:600; cursor:pointer;}
    button.ghost { background:transparent; border:1px solid rgba(255,255,255,.15); color:var(--text); }
    button.danger { background: #521a28; color: #ffc2c2; border: 1px solid #7c263a; }
    .state { font-size: 12px; color: #90ee90; min-height:18px; display:inline-block; margin-left:10px; }
    .grid { display:grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .list-item { display:flex; justify-content:space-between; align-items:center; padding: 10px; border-radius:8px; background: #1a324a; margin-bottom:8px; }
    .modal-backdrop { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:99; display:none; }
    .modal-content { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:var(--card); padding:24px; border-radius:var(--radius); width:90%; max-width:800px; max-height:90vh; overflow-y:auto; }
    .bullets-list .row { display:flex; gap:8px; align-items:flex-start; margin-bottom:8px; }
    .bullets-list input { flex:1; }
    button.small { padding:6px 8px; border-radius:8px; font-size:12px; }
    button.small.danger { background:#521a28; color:#ffc2c2; border:1px solid #7c263a; }

  </style>
</head>
<body>
  <div class="wrap">
    <h2>ATS Resume Enhancer — Options</h2>
    <div class="card">
      <h3>API Key & Data Management</h3>
      <label for="apikey">Gemini API Key</label>
      <input id="apikey" type="password" placeholder="AIza…">
      <div style="margin-top:12px;">
        <button id="saveApiKey">Save API Key</button>
        <button id="export" class="ghost">Export All Data</button>
        <input type="file" id="importFile" accept="application/json" style="display:none;" />
        <button id="importBtn" class="ghost">Import All Data</button>
        <span id="apikeytate" class="state"></span>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h3>Categories</h3>
        <p class="muted">A category is a resume template with its own keywords.</p>
        <div id="categoryList"></div>
        <button id="showCategoryModalBtn">Create New Category</button>
      </div>

      <div class="card">
        <h3>Projects</h3>
        <p class="muted">Reusable project blocks to inject into your resumes.</p>
        <div id="projectList"></div>
        <button id="showProjectModalBtn">Create New Project</button>
      </div>
    </div>
  </div>

  <div id="categoryModal" class="modal-backdrop">
    <div class="modal-content">
      <h3 id="categoryModalTitle">Create Category</h3>
      <input type="hidden" id="categoryId">
      <label for="categoryName">Category Name</label>
      <input type="text" id="categoryName" placeholder="e.g., Full Stack Engineer">
      <label for="categoryKeywords">Keywords (comma-separated)</label>
      <textarea id="categoryKeywords" placeholder="Java, Spring Boot, React..."></textarea>
      <label for="categoryLatex">Base LaTeX Template (.tex)</label>
      <textarea id="categoryLatex" placeholder="Paste your full .tex source here..."></textarea>

      <label for="categoryClsFile">Supporting Template File (.cls)</label>
      <div>
        <button type="button" id="uploadClsBtn" class="ghost">Upload .cls File</button>
        <span id="clsFileStatus" class="muted" style="margin-left: 10px;"></span>
      </div>
      <input type="file" id="categoryClsFile" accept=".cls" style="display:none;">
      <textarea id="categoryClsContent" style="display:none;"></textarea> <div style="margin-top:12px; display:flex; gap:10px;">
        <button id="saveCategoryBtn">Save Category</button>
        <button id="closeCategoryModalBtn" class="ghost">Cancel</button>
      </div>
    </div>
  </div>

  <div id="projectModal" class="modal-backdrop">
    <div class="modal-content">
      <h3 id="projectModalTitle">Create Project</h3>
      <input type="hidden" id="projectId">
      <label for="projectName">Project Name</label>
      <input type="text" id="projectName" placeholder="e.g., SmartGoal AI">
      <label for="projectDates">Dates</label>
      <input type="text" id="projectDates" placeholder="May 2025 -- Present">
      <label for="projectLink">Link (optional)</label>
      <input type="text" id="projectLink" placeholder="https://github.com/...">
      <label>Bullet Points</label>
      <div id="projectBulletsList" class="bullets-list"></div>
      <button type="button" id="addBulletBtn">+ Add point</button>

      <label>Associate with Categories</label>
      <div id="projectCategoryAssociation"></div>
      <div style="margin-top:12px; display:flex; gap:10px;">
        <button id="saveProjectBtn">Save Project</button>
        <button id="closeProjectModalBtn" class="ghost">Cancel</button>
      </div>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>